{
  "4J5KX7":"PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KYnV0dG9uLGhyLGlucHV0e292ZXJmbG93OnZpc2libGV9YXVkaW8sY2FudmFzLHByb2dyZXNzLHZpZGVve2Rpc3BsYXk6aW5saW5lLWJsb2NrfXByb2dyZXNzLHN1YixzdXB7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9aHRtbHtmb250LWZhbWlseTpzYW5zLXNlcmlmO2xpbmUtaGVpZ2h0OjEuMTU7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJX1ib2R5e21hcmdpbjowfSBtZW51LGFydGljbGUsYXNpZGUsZGV0YWlscyxmb290ZXIsaGVhZGVyLG5hdixzZWN0aW9ue2Rpc3BsYXk6YmxvY2t9aDF7Zm9udC1zaXplOjJlbTttYXJnaW46LjY3ZW0gMH1maWdjYXB0aW9uLGZpZ3VyZSxtYWlue2Rpc3BsYXk6YmxvY2t9ZmlndXJle21hcmdpbjoxZW0gNDBweH1ocntib3gtc2l6aW5nOmNvbnRlbnQtYm94O2hlaWdodDowfWNvZGUsa2JkLHByZSxzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZSxtb25vc3BhY2U7Zm9udC1zaXplOjFlbX1he2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7LXdlYmtpdC10ZXh0LWRlY29yYXRpb24tc2tpcDpvYmplY3RzfWE6YWN0aXZlLGE6aG92ZXJ7b3V0bGluZS13aWR0aDowfWFiYnJbdGl0bGVde2JvcmRlci1ib3R0b206bm9uZTt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmUgZG90dGVkfWIsc3Ryb25ne2ZvbnQtd2VpZ2h0OmJvbGRlcn1kZm57Zm9udC1zdHlsZTppdGFsaWN9bWFya3tiYWNrZ3JvdW5kLWNvbG9yOiNmZjA7Y29sb3I6IzAwMH1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlfXN1Yntib3R0b206LS4yNWVtfXN1cHt0b3A6LS41ZW19YXVkaW86bm90KFtjb250cm9sc10pe2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MH1pbWd7Ym9yZGVyLXN0eWxlOm5vbmV9c3ZnOm5vdCg6cm9vdCl7b3ZlcmZsb3c6aGlkZGVufWJ1dHRvbixpbnB1dCxvcHRncm91cCxzZWxlY3QsdGV4dGFyZWF7Zm9udC1mYW1pbHk6c2Fucy1zZXJpZjtmb250LXNpemU6MTAwJTtsaW5lLWhlaWdodDoxLjE1O21hcmdpbjowfWJ1dHRvbixpbnB1dHt9YnV0dG9uLHNlbGVjdHt0ZXh0LXRyYW5zZm9ybTpub25lfVt0eXBlPXN1Ym1pdF0sIFt0eXBlPXJlc2V0XSxidXR0b24saHRtbCBbdHlwZT1idXR0b25dey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b259W3R5cGU9YnV0dG9uXTo6LW1vei1mb2N1cy1pbm5lcixbdHlwZT1yZXNldF06Oi1tb3otZm9jdXMtaW5uZXIsW3R5cGU9c3VibWl0XTo6LW1vei1mb2N1cy1pbm5lcixidXR0b246Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyLXN0eWxlOm5vbmU7cGFkZGluZzowfVt0eXBlPWJ1dHRvbl06LW1vei1mb2N1c3JpbmcsW3R5cGU9cmVzZXRdOi1tb3otZm9jdXNyaW5nLFt0eXBlPXN1Ym1pdF06LW1vei1mb2N1c3JpbmcsYnV0dG9uOi1tb3otZm9jdXNyaW5ne291dGxpbmU6QnV0dG9uVGV4dCBkb3R0ZWQgMXB4fWZpZWxkc2V0e2JvcmRlcjoxcHggc29saWQgc2lsdmVyO21hcmdpbjowIDJweDtwYWRkaW5nOi4zNWVtIC42MjVlbSAuNzVlbX1sZWdlbmR7Ym94LXNpemluZzpib3JkZXItYm94O2NvbG9yOmluaGVyaXQ7ZGlzcGxheTp0YWJsZTttYXgtd2lkdGg6MTAwJTtwYWRkaW5nOjA7d2hpdGUtc3BhY2U6bm9ybWFsfXByb2dyZXNze310ZXh0YXJlYXtvdmVyZmxvdzphdXRvfVt0eXBlPWNoZWNrYm94XSxbdHlwZT1yYWRpb117Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH1bdHlwZT1udW1iZXJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLFt0eXBlPW51bWJlcl06Oi13ZWJraXQtb3V0ZXItc3Bpbi1idXR0b257aGVpZ2h0OmF1dG99W3R5cGU9c2VhcmNoXXstd2Via2l0LWFwcGVhcmFuY2U6dGV4dGZpZWxkO291dGxpbmUtb2Zmc2V0Oi0ycHh9W3R5cGU9c2VhcmNoXTo6LXdlYmtpdC1zZWFyY2gtY2FuY2VsLWJ1dHRvbixbdHlwZT1zZWFyY2hdOjotd2Via2l0LXNlYXJjaC1kZWNvcmF0aW9uey13ZWJraXQtYXBwZWFyYW5jZTpub25lfTo6LXdlYmtpdC1maWxlLXVwbG9hZC1idXR0b257LXdlYmtpdC1hcHBlYXJhbmNlOmJ1dHRvbjtmb250OmluaGVyaXR9c3VtbWFyeXtkaXNwbGF5Omxpc3QtaXRlbX1baGlkZGVuXSx0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9LyojIHNvdXJjZU1hcHBpbmdVUkw9bm9ybWFsaXplLm1pbi5jc3MubWFwICovCiAgPC9zdHlsZT4KICA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgpib2R5IHsKICB3aWR0aDogMTAwdnc7CiAgaGVpZ2h0OiAxMDB2aDsKICBiYWNrZ3JvdW5kOiAjMTQxNDE0Owp9CgphLWhvbGUgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IDA7CiAgbGVmdDogMDsKICBtYXJnaW46IDA7CiAgcGFkZGluZzogMDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQphLWhvbGU6YmVmb3JlIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiA1MCU7CiAgbGVmdDogNTAlOwogIHotaW5kZXg6IDI7CiAgZGlzcGxheTogYmxvY2s7CiAgd2lkdGg6IDE1MCU7CiAgaGVpZ2h0OiAxNDAlOwogIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChlbGxpcHNlIGF0IDUwJSA1NSUsIHRyYW5zcGFyZW50IDEwJSwgYmxhY2sgNTAlKTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01MCUsIDApOwogIGNvbnRlbnQ6ICIiOwp9CmEtaG9sZTphZnRlciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogNTAlOwogIGxlZnQ6IDUwJTsKICB6LWluZGV4OiA1OwogIGRpc3BsYXk6IGJsb2NrOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoZWxsaXBzZSBhdCA1MCUgNzUlLCAjYTkwMGZmIDIwJSwgdHJhbnNwYXJlbnQgNzUlKTsKICBtaXgtYmxlbmQtbW9kZTogb3ZlcmxheTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01MCUsIDApOwogIGNvbnRlbnQ6ICIiOwp9CkAtd2Via2l0LWtleWZyYW1lcyBhdXJhLWdsb3cgewogIDAlIHsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgMTAwJTsKICB9CiAgMTAwJSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDMwMCU7CiAgfQp9CkBrZXlmcmFtZXMgYXVyYS1nbG93IHsKICAwJSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDEwMCU7CiAgfQogIDEwMCUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAzMDAlOwogIH0KfQphLWhvbGUgLmF1cmEgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB0b3A6IC03MS41JTsKICBsZWZ0OiA1MCU7CiAgei1pbmRleDogMzsKICB3aWR0aDogMzAlOwogIGhlaWdodDogMTQwJTsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMjBkZWcsICMwMGY4ZjEsICNmZmJkMWUyMCAxNi41JSwgI2ZlODQ4ZiAzMyUsICNmZTg0OGYyMCA0OS41JSwgIzAwZjhmMSA2NiUsICMwMGY4ZjE2MCA4NS41JSwgI2ZmYmQxZSAxMDAlKSAwIDEwMCUvMTAwJSAyMDAlOwogIGJvcmRlci1yYWRpdXM6IDAgMCAxMDAlIDEwMCU7CiAgZmlsdGVyOiBibHVyKDUwcHgpOwogIG1peC1ibGVuZC1tb2RlOiBwbHVzLWxpZ2h0ZXI7CiAgb3BhY2l0eTogMC43NTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIDAsIDApOwogIC13ZWJraXQtYW5pbWF0aW9uOiBhdXJhLWdsb3cgNXMgaW5maW5pdGUgbGluZWFyOwogICAgICAgICAgYW5pbWF0aW9uOiBhdXJhLWdsb3cgNXMgaW5maW5pdGUgbGluZWFyOwp9CmEtaG9sZSAub3ZlcmxheSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHotaW5kZXg6IDEwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBiYWNrZ3JvdW5kOiByZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KHRyYW5zcGFyZW50LCB0cmFuc3BhcmVudCAxcHgsIHdoaXRlIDFweCwgd2hpdGUgMnB4KTsKICBtaXgtYmxlbmQtbW9kZTogb3ZlcmxheTsKICBvcGFjaXR5OiAwLjU7Cn0KYS1ob2xlIGNhbnZhcyB7CiAgZGlzcGxheTogYmxvY2s7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwp9CiAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KPCEtLSBwYXJ0aWFsOmluZGV4LnBhcnRpYWwuaHRtbCAtLT4KCjxhLWhvbGU+CiAgPGNhbnZhcyBjbGFzcz0ianMtY2FudmFzIj48L2NhbnZhcz4KICA8ZGl2IGNsYXNzPSJhdXJhIj48L2Rpdj4KICA8ZGl2IGNsYXNzPSJvdmVybGF5Ij48L2Rpdj4KPC9hLWhvbGU+PCEtLSAuYS1ob2xlIC0tPgo8IS0tIHBhcnRpYWwgLS0+CjxzY3JpcHQgdHlwZT0ibW9kdWxlIj4KaW1wb3J0IGVhc2luZ1V0aWxzIGZyb20gImh0dHBzOi8vZXNtLnNoL2Vhc2luZy11dGlscyI7CgpjbGFzcyBBSG9sZSBleHRlbmRzIEhUTUxFbGVtZW50IHsKICAvKioKICAgKiBJbml0CiAgICovCiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7CiAgICAvLyBFbGVtZW50cwogICAgdGhpcy5jYW52YXMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoIi5qcy1jYW52YXMiKTsKICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKCiAgICB0aGlzLmRpc2NzID0gW107CiAgICB0aGlzLmxpbmVzID0gW107CgogICAgLy8gSW5pdAogICAgdGhpcy5zZXRTaXplKCk7CiAgICB0aGlzLnNldERpc2NzKCk7CiAgICB0aGlzLnNldExpbmVzKCk7CiAgICB0aGlzLnNldFBhcnRpY2xlcygpOwoKICAgIHRoaXMuYmluZEV2ZW50cygpOwoKICAgIC8vIFJBRgogICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudGljay5iaW5kKHRoaXMpKTsKICB9CgogIC8qKgogICAqIEJpbmQgZXZlbnRzCiAgICovCiAgYmluZEV2ZW50cygpIHsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcykpOwogIH0KCiAgLyoqCiAgICogUmVzaXplIGhhbmRsZXIKICAgKi8KICBvblJlc2l6ZSgpIHsKICAgIHRoaXMuc2V0U2l6ZSgpOwogICAgdGhpcy5zZXREaXNjcygpOwogICAgdGhpcy5zZXRMaW5lcygpOwogICAgdGhpcy5zZXRQYXJ0aWNsZXMoKTsKICB9CgogIC8qKgogICAqIFNldCBzaXplCiAgICovCiAgc2V0U2l6ZSgpIHsKICAgIHRoaXMucmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CgogICAgdGhpcy5yZW5kZXIgPSB7CiAgICAgIHdpZHRoOiB0aGlzLnJlY3Qud2lkdGgsCiAgICAgIGhlaWdodDogdGhpcy5yZWN0LmhlaWdodCwKICAgICAgZHBpOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbwogICAgfTsKCiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMucmVuZGVyLndpZHRoICogdGhpcy5yZW5kZXIuZHBpOwogICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5yZW5kZXIuaGVpZ2h0ICogdGhpcy5yZW5kZXIuZHBpOwogIH0KCiAgLyoqCiAgICogU2V0IGRpc2NzCiAgICovCiAgc2V0RGlzY3MoKSB7CiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMucmVjdDsKCiAgICB0aGlzLmRpc2NzID0gW107CgogICAgdGhpcy5zdGFydERpc2MgPSB7CiAgICAgIHg6IHdpZHRoICogMC41LAogICAgICB5OiBoZWlnaHQgKiAwLjQ1LAogICAgICB3OiB3aWR0aCAqIDAuNzUsCiAgICAgIGg6IGhlaWdodCAqIDAuNwogICAgfTsKCiAgICB0aGlzLmVuZERpc2MgPSB7CiAgICAgIHg6IHdpZHRoICogMC41LAogICAgICB5OiBoZWlnaHQgKiAwLjk1LAogICAgICB3OiAwLAogICAgICBoOiAwCiAgICB9OwoKICAgIGNvbnN0IHRvdGFsRGlzY3MgPSAxMDA7CgogICAgbGV0IHByZXZCb3R0b20gPSBoZWlnaHQ7CiAgICB0aGlzLmNsaXAgPSB7fTsKCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsRGlzY3M7IGkrKykgewogICAgICBjb25zdCBwID0gaSAvIHRvdGFsRGlzY3M7CgogICAgICBjb25zdCBkaXNjID0gdGhpcy50d2VlbkRpc2MoewogICAgICAgIHAKICAgICAgfSk7CgogICAgICBjb25zdCBib3R0b20gPSBkaXNjLnkgKyBkaXNjLmg7CgogICAgICBpZiAoYm90dG9tIDw9IHByZXZCb3R0b20pIHsKICAgICAgICB0aGlzLmNsaXAgPSB7CiAgICAgICAgICBkaXNjOiB7IC4uLmRpc2MgfSwKICAgICAgICAgIGkKICAgICAgICB9OwogICAgICB9CgogICAgICBwcmV2Qm90dG9tID0gYm90dG9tOwoKICAgICAgdGhpcy5kaXNjcy5wdXNoKGRpc2MpOwogICAgfQoKICAgIHRoaXMuY2xpcC5wYXRoID0gbmV3IFBhdGgyRCgpOwogICAgdGhpcy5jbGlwLnBhdGguZWxsaXBzZSgKICAgICAgdGhpcy5jbGlwLmRpc2MueCwKICAgICAgdGhpcy5jbGlwLmRpc2MueSwKICAgICAgdGhpcy5jbGlwLmRpc2MudywKICAgICAgdGhpcy5jbGlwLmRpc2MuaCwKICAgICAgMCwKICAgICAgMCwKICAgICAgTWF0aC5QSSAqIDIKICAgICk7CiAgICB0aGlzLmNsaXAucGF0aC5yZWN0KAogICAgICB0aGlzLmNsaXAuZGlzYy54IC0gdGhpcy5jbGlwLmRpc2MudywKICAgICAgMCwKICAgICAgdGhpcy5jbGlwLmRpc2MudyAqIDIsCiAgICAgIHRoaXMuY2xpcC5kaXNjLnkKICAgICk7CiAgfQoKICAvKioKICAgKiBTZXQgbGluZXMKICAgKi8KICBzZXRMaW5lcygpIHsKICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5yZWN0OwoKICAgIHRoaXMubGluZXMgPSBbXTsKCiAgICBjb25zdCB0b3RhbExpbmVzID0gMTAwOwogICAgY29uc3QgbGluZXNBbmdsZSA9IChNYXRoLlBJICogMikgLyB0b3RhbExpbmVzOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxMaW5lczsgaSsrKSB7CiAgICAgIHRoaXMubGluZXMucHVzaChbXSk7CiAgICB9CgogICAgdGhpcy5kaXNjcy5mb3JFYWNoKChkaXNjKSA9PiB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxMaW5lczsgaSsrKSB7CiAgICAgICAgY29uc3QgYW5nbGUgPSBpICogbGluZXNBbmdsZTsKCiAgICAgICAgY29uc3QgcCA9IHsKICAgICAgICAgIHg6IGRpc2MueCArIE1hdGguY29zKGFuZ2xlKSAqIGRpc2MudywKICAgICAgICAgIHk6IGRpc2MueSArIE1hdGguc2luKGFuZ2xlKSAqIGRpc2MuaAogICAgICAgIH07CgogICAgICAgIHRoaXMubGluZXNbaV0ucHVzaChwKTsKICAgICAgfQogICAgfSk7CgogICAgdGhpcy5saW5lc0NhbnZhcyA9IG5ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsIGhlaWdodCk7CiAgICBjb25zdCBjdHggPSB0aGlzLmxpbmVzQ2FudmFzLmdldENvbnRleHQoIjJkIik7CgogICAgdGhpcy5saW5lcy5mb3JFYWNoKChsaW5lLCBpKSA9PiB7CiAgICAgIGN0eC5zYXZlKCk7CgogICAgICBsZXQgbGluZUlzSW4gPSBmYWxzZTsKICAgICAgbGluZS5mb3JFYWNoKChwMSwgaikgPT4gewogICAgICAgIGlmIChqID09PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBjb25zdCBwMCA9IGxpbmVbaiAtIDFdOwoKICAgICAgICBpZiAoCiAgICAgICAgICAhbGluZUlzSW4gJiYKICAgICAgICAgIChjdHguaXNQb2ludEluUGF0aCh0aGlzLmNsaXAucGF0aCwgcDEueCwgcDEueSkgfHwKICAgICAgICAgICAgY3R4LmlzUG9pbnRJblN0cm9rZSh0aGlzLmNsaXAucGF0aCwgcDEueCwgcDEueSkpCiAgICAgICAgKSB7CiAgICAgICAgICBsaW5lSXNJbiA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChsaW5lSXNJbikgewogICAgICAgICAgY3R4LmNsaXAodGhpcy5jbGlwLnBhdGgpOwogICAgICAgIH0KCiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwoKICAgICAgICBjdHgubW92ZVRvKHAwLngsIHAwLnkpOwogICAgICAgIGN0eC5saW5lVG8ocDEueCwgcDEueSk7CgogICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICIjNDQ0IjsKICAgICAgICBjdHgubGluZVdpZHRoID0gMjsKICAgICAgICBjdHguc3Ryb2tlKCk7CgogICAgICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgICAgfSk7CgogICAgICBjdHgucmVzdG9yZSgpOwogICAgfSk7CgogICAgdGhpcy5saW5lc0N0eCA9IGN0eDsKICB9CgogIC8qKgogICAqIFNldCBwYXJ0aWNsZXMKICAgKi8KICBzZXRQYXJ0aWNsZXMoKSB7CiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMucmVjdDsKCiAgICB0aGlzLnBhcnRpY2xlcyA9IFtdOwoKICAgIHRoaXMucGFydGljbGVBcmVhID0gewogICAgICBzdzogdGhpcy5jbGlwLmRpc2MudyAqIDAuNSwKICAgICAgZXc6IHRoaXMuY2xpcC5kaXNjLncgKiAyLAogICAgICBoOiBoZWlnaHQgKiAwLjg1CiAgICB9OwogICAgdGhpcy5wYXJ0aWNsZUFyZWEuc3ggPSAod2lkdGggLSB0aGlzLnBhcnRpY2xlQXJlYS5zdykgLyAyOwogICAgdGhpcy5wYXJ0aWNsZUFyZWEuZXggPSAod2lkdGggLSB0aGlzLnBhcnRpY2xlQXJlYS5ldykgLyAyOwoKICAgIGNvbnN0IHRvdGFsUGFydGljbGVzID0gMTAwOwoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxQYXJ0aWNsZXM7IGkrKykgewogICAgICBjb25zdCBwYXJ0aWNsZSA9IHRoaXMuaW5pdFBhcnRpY2xlKHRydWUpOwoKICAgICAgdGhpcy5wYXJ0aWNsZXMucHVzaChwYXJ0aWNsZSk7CiAgICB9CiAgfQoKICAvKioKICAgKiBJbml0IHBhcnRpY2xlCiAgICovCiAgaW5pdFBhcnRpY2xlKHN0YXJ0ID0gZmFsc2UpIHsKICAgIGNvbnN0IHN4ID0gdGhpcy5wYXJ0aWNsZUFyZWEuc3ggKyB0aGlzLnBhcnRpY2xlQXJlYS5zdyAqIE1hdGgucmFuZG9tKCk7CiAgICBjb25zdCBleCA9IHRoaXMucGFydGljbGVBcmVhLmV4ICsgdGhpcy5wYXJ0aWNsZUFyZWEuZXcgKiBNYXRoLnJhbmRvbSgpOwogICAgY29uc3QgZHggPSBleCAtIHN4OwogICAgY29uc3QgdnggPSAwLjEgKyBNYXRoLnJhbmRvbSgpICogMC41OwogICAgY29uc3QgeSA9IHN0YXJ0ID8gdGhpcy5wYXJ0aWNsZUFyZWEuaCAqIE1hdGgucmFuZG9tKCkgOiB0aGlzLnBhcnRpY2xlQXJlYS5oOwogICAgY29uc3QgciA9IDAuNSArIE1hdGgucmFuZG9tKCkgKiA0OwogICAgY29uc3QgdnkgPSAwLjUgKyBNYXRoLnJhbmRvbSgpOwoKICAgIHJldHVybiB7CiAgICAgIHg6IHN4LAogICAgICBzeCwKICAgICAgZHgsCiAgICAgIHksCiAgICAgIHZ5LAogICAgICBwOiAwLAogICAgICByLAogICAgICBjOiBgcmdiYSgyNTUsIDI1NSwgMjU1LCAke01hdGgucmFuZG9tKCl9KWAKICAgIH07CiAgfQoKICAvKioKICAgKiBUd2VlbiB2YWx1ZQogICAqLwogIHR3ZWVuVmFsdWUoc3RhcnQsIGVuZCwgcCwgZWFzZSA9IGZhbHNlKSB7CiAgICBjb25zdCBkZWx0YSA9IGVuZCAtIHN0YXJ0OwoKICAgIGNvbnN0IGVhc2VGbiA9CiAgICAgIGVhc2luZ1V0aWxzWwogICAgICAgIGVhc2UgPyAiZWFzZSIgKyBlYXNlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZWFzZS5zbGljZSgxKSA6ICJsaW5lYXIiCiAgICAgIF07CgogICAgcmV0dXJuIHN0YXJ0ICsgZGVsdGEgKiBlYXNlRm4ocCk7CiAgfQoKICAvKioKICAgKiBEcmF3IGRpc2NzCiAgICovCiAgZHJhd0Rpc2NzKCkgewogICAgY29uc3QgeyBjdHggfSA9IHRoaXM7CgogICAgY3R4LnN0cm9rZVN0eWxlID0gIiM0NDQiOwogICAgY3R4LmxpbmVXaWR0aCA9IDI7CgogICAgLy8gT3V0ZXIgZGlzYwogICAgY29uc3Qgb3V0ZXJEaXNjID0gdGhpcy5zdGFydERpc2M7CgogICAgY3R4LmJlZ2luUGF0aCgpOwoKICAgIGN0eC5lbGxpcHNlKAogICAgICBvdXRlckRpc2MueCwKICAgICAgb3V0ZXJEaXNjLnksCiAgICAgIG91dGVyRGlzYy53LAogICAgICBvdXRlckRpc2MuaCwKICAgICAgMCwKICAgICAgMCwKICAgICAgTWF0aC5QSSAqIDIKICAgICk7CiAgICBjdHguc3Ryb2tlKCk7CgogICAgY3R4LmNsb3NlUGF0aCgpOwoKICAgIC8vIERpc2NzCiAgICB0aGlzLmRpc2NzLmZvckVhY2goKGRpc2MsIGkpID0+IHsKICAgICAgaWYgKGkgJSA1ICE9PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoZGlzYy53IDwgdGhpcy5jbGlwLmRpc2MudyAtIDUpIHsKICAgICAgICBjdHguc2F2ZSgpOwoKICAgICAgICBjdHguY2xpcCh0aGlzLmNsaXAucGF0aCk7CiAgICAgIH0KCiAgICAgIGN0eC5iZWdpblBhdGgoKTsKCiAgICAgIGN0eC5lbGxpcHNlKGRpc2MueCwgZGlzYy55LCBkaXNjLncsIGRpc2MuaCwgMCwgMCwgTWF0aC5QSSAqIDIpOwogICAgICBjdHguc3Ryb2tlKCk7CgogICAgICBjdHguY2xvc2VQYXRoKCk7CgogICAgICBpZiAoZGlzYy53IDwgdGhpcy5jbGlwLmRpc2MudyAtIDUpIHsKICAgICAgICBjdHgucmVzdG9yZSgpOwogICAgICB9CiAgICB9KTsKICB9CgogIC8qKgogICAqIERyYXcgbGluZXMKICAgKi8KICBkcmF3TGluZXMoKSB7CiAgICBjb25zdCB7IGN0eCwgbGluZXNDYW52YXMgfSA9IHRoaXM7CgogICAgY3R4LmRyYXdJbWFnZShsaW5lc0NhbnZhcywgMCwgMCk7CiAgfQoKICAvKioKICAgKiBEcmF3IHBhcnRpY2xlcwogICAqLwogIGRyYXdQYXJ0aWNsZXMoKSB7CiAgICBjb25zdCB7IGN0eCB9ID0gdGhpczsKCiAgICBjdHguc2F2ZSgpOwoKICAgIGN0eC5jbGlwKHRoaXMuY2xpcC5wYXRoKTsKCiAgICB0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4gewogICAgICBjdHguZmlsbFN0eWxlID0gcGFydGljbGUuYzsKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBjdHgucmVjdChwYXJ0aWNsZS54LCBwYXJ0aWNsZS55LCBwYXJ0aWNsZS5yLCBwYXJ0aWNsZS5yKTsKICAgICAgY3R4LmNsb3NlUGF0aCgpOwoKICAgICAgY3R4LmZpbGwoKTsKICAgIH0pOwoKICAgIGN0eC5yZXN0b3JlKCk7CiAgfQoKICAvKioKICAgKiBNb3ZlIGRpc2NzCiAgICovCiAgbW92ZURpc2NzKCkgewogICAgdGhpcy5kaXNjcy5mb3JFYWNoKChkaXNjKSA9PiB7CiAgICAgIGRpc2MucCA9IChkaXNjLnAgKyAwLjAwMSkgJSAxOwoKICAgICAgdGhpcy50d2VlbkRpc2MoZGlzYyk7CiAgICB9KTsKICB9CgogIC8qKgogICAqIE1vdmUgUGFydGljbGVzCiAgICovCiAgbW92ZVBhcnRpY2xlcygpIHsKICAgIHRoaXMucGFydGljbGVzLmZvckVhY2goKHBhcnRpY2xlKSA9PiB7CiAgICAgIHBhcnRpY2xlLnAgPSAxIC0gcGFydGljbGUueSAvIHRoaXMucGFydGljbGVBcmVhLmg7CiAgICAgIHBhcnRpY2xlLnggPSBwYXJ0aWNsZS5zeCArIHBhcnRpY2xlLmR4ICogcGFydGljbGUucDsKICAgICAgcGFydGljbGUueSAtPSBwYXJ0aWNsZS52eTsKCiAgICAgIGlmIChwYXJ0aWNsZS55IDwgMCkgewogICAgICAgIHBhcnRpY2xlLnkgPSB0aGlzLmluaXRQYXJ0aWNsZSgpLnk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgLyoqCiAgICogVHdlZW4gZGlzYwogICAqLwogIHR3ZWVuRGlzYyhkaXNjKSB7CiAgICBkaXNjLnggPSB0aGlzLnR3ZWVuVmFsdWUodGhpcy5zdGFydERpc2MueCwgdGhpcy5lbmREaXNjLngsIGRpc2MucCk7CiAgICBkaXNjLnkgPSB0aGlzLnR3ZWVuVmFsdWUoCiAgICAgIHRoaXMuc3RhcnREaXNjLnksCiAgICAgIHRoaXMuZW5kRGlzYy55LAogICAgICBkaXNjLnAsCiAgICAgICJpbkV4cG8iCiAgICApOwoKICAgIGRpc2MudyA9IHRoaXMudHdlZW5WYWx1ZSh0aGlzLnN0YXJ0RGlzYy53LCB0aGlzLmVuZERpc2MudywgZGlzYy5wKTsKICAgIGRpc2MuaCA9IHRoaXMudHdlZW5WYWx1ZSh0aGlzLnN0YXJ0RGlzYy5oLCB0aGlzLmVuZERpc2MuaCwgZGlzYy5wKTsKCiAgICByZXR1cm4gZGlzYzsKICB9CgogIC8qKgogICAqIFRpY2sKICAgKi8KICB0aWNrKHRpbWUpIHsKICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzOwoKICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7CgogICAgY3R4LnNhdmUoKTsKICAgIGN0eC5zY2FsZSh0aGlzLnJlbmRlci5kcGksIHRoaXMucmVuZGVyLmRwaSk7CgogICAgdGhpcy5tb3ZlRGlzY3MoKTsKICAgIHRoaXMubW92ZVBhcnRpY2xlcygpOwoKICAgIHRoaXMuZHJhd0Rpc2NzKCk7CiAgICB0aGlzLmRyYXdMaW5lcygpOwogICAgdGhpcy5kcmF3UGFydGljbGVzKCk7CgogICAgY3R4LnJlc3RvcmUoKTsKCiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy50aWNrLmJpbmQodGhpcykpOwogIH0KfQoKY2xhc3MgUGFydGljbGUgewogIGNvbnN0cnVjdG9yKHgsIHksIGN0eCkge30KCiAgbW92ZSgpIHt9CgogIGRyYXcoKSB7fQp9CgpjdXN0b21FbGVtZW50cy5kZWZpbmUoImEtaG9sZSIsIEFIb2xlKTsKPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="
}